$(document).ready(function() {
    $('#stock-list').DataTable({
        processing: true,
        serverSide: true,
        searching: false,
        responsive: true,
        paging: true,
        pageLength: 10,
        ajax: {
            url: BASE_URL + '/api/user/stock/list',
            type: "POST",
            headers: {
                'Authorization': `Bearer ${getCookie('auth_token')}`
            },
            data: function(d) {
                d._token = $('#csrf_token').val(); // CSRF token for Laravel
            }
        },
        columns: [
            {
                data: 'stock_id',
                title: 'Stock No.'
            },
            {
                data: 'item_code',
                title: 'Item Code'
            },
            {
                data: 'item_name',
                title: 'Item Name'
            },
            {
                data: 'quantity',
                title: 'Quantity'
            },
            {
                data: 'location',
                title: 'Location',
                orderable: false
            },
            {
                data: 'status_label',
                title: 'Status',
                orderable: false,
                // render: function(data, type, row) {
                //     return data['store_name']
                // }

            },
            {
                data: 'store',
                title: 'Store Name',
                render: function(data, type, row) {
                    return data['store_name']
                }
            },
            {
                data: 'in_stock_date',
                title: 'In Stock Date'
            }
        ]
    });
});